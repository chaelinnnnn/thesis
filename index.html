<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Appropriation â€” Viral Lens (Readable Blobs)</title>

<style>
:root{
  --bg:#ffffff;
  --ink:#111;
  --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --lensSize:200px;
  --fadeSeconds:6.5;
}
*{box-sizing:border-box;}
html,body{height:100%;}
body{margin:0;background:var(--bg);color:var(--ink);overflow:hidden;}

.stage{position:fixed;inset:0;display:grid;place-items:center;padding:28px;}
#sentence{
  width:min(1200px,92vw);
  text-align:center;
  font-family:var(--sans);
  font-weight:650;
  font-size:clamp(40px,6vw,96px);
  line-height:1.08;
  letter-spacing:-0.02em;
  user-select:none;
  position:relative;
  z-index:2;
}

.w{
  display:inline-block;
  padding:0 .06em;
  transform:translateZ(0);
  will-change:transform;
  animation-name:microFloat;
  animation-duration:var(--mfDur,7.2s);
  animation-timing-function:ease-in-out;
  animation-iteration-count:infinite;
  animation-delay:var(--mfDelay,0s);
}
.w.hideInk{color:transparent;animation:none;}

@keyframes microFloat{
  0%{transform:translate3d(0,0,0) rotate(0deg);}
  33%{transform:translate3d(var(--mx,.55px),var(--my,-.45px),0) rotate(var(--mr,.10deg));}
  66%{transform:translate3d(calc(var(--mx,.55px)*-0.65),calc(var(--my,-.45px)*-0.55),0) rotate(calc(var(--mr,.10deg)*-0.65));}
  100%{transform:translate3d(0,0,0) rotate(0deg);}
}

#blackout{position:fixed;inset:0;background:#000;opacity:0;pointer-events:none;z-index:5;transition:opacity 90ms linear;}
#overlay{position:fixed;inset:0;pointer-events:none;z-index:6;}

canvas.viral{
  position:absolute;
  left:0;top:0;
  transform:translate(-50%,-55%);
  opacity:0;
  transition:opacity 140ms linear;
}
canvas.viral.on{opacity:1;}

body.final #sentence{opacity:0;transition:opacity 320ms ease;}

#lens{
  position:fixed;
  width:var(--lensSize);
  height:var(--lensSize);
  border-radius:999px;
  left:72%;top:44%;
  transform:translate(-50%,-50%);
  z-index:10;
  pointer-events:auto;
  touch-action:none;
}

#lens .glass{
  position:absolute;inset:0;border-radius:999px;overflow:hidden;
  background:
    radial-gradient(circle at 35% 28%,rgba(255,255,255,.65)0%,rgba(255,255,255,.28)26%,rgba(255,255,255,.10)52%,rgba(0,0,0,.06)78%,rgba(0,0,0,.10)100%);
  backdrop-filter:blur(1.2px) brightness(1.06) contrast(1.06);
  -webkit-backdrop-filter:blur(1.2px) brightness(1.06) contrast(1.06);
  box-shadow:
    0 34px 90px rgba(0,0,0,.28),
    0 10px 22px rgba(0,0,0,.18),
    inset 0 22px 36px rgba(255,255,255,.55),
    inset 0 -30px 46px rgba(0,0,0,.22),
    inset 0 0 46px rgba(0,0,0,.14);
}
#lens .glass::before{
  content:"";position:absolute;inset:-55px;border-radius:999px;
  background:
    radial-gradient(circle at 30% 20%,rgba(255,255,255,.75),transparent 52%),
    radial-gradient(circle at 72% 78%,rgba(255,255,255,.20),transparent 60%),
    linear-gradient(145deg,rgba(255,255,255,.16),transparent 64%);
  mix-blend-mode:screen;opacity:.7;filter:blur(.4px);
}
#lens .glass::after{
  content:"";position:absolute;inset:0;border-radius:999px;
  background:
    radial-gradient(circle,rgba(255,255,255,0)58%,rgba(255,255,255,.14)64%,rgba(0,0,0,.16)78%,rgba(0,0,0,.26)100%);
}

.hint{
  position:fixed;left:16px;bottom:16px;z-index:20;
  font-family:var(--sans);font-size:12px;opacity:.65;
  background:rgba(255,255,255,.86);
  border:1px solid rgba(0,0,0,.08);
  padding:8px 10px;border-radius:999px;
}
body.final .hint{display:none;}
</style>
</head>

<body>

<div class="stage"><div id="sentence"></div></div>
<div id="blackout"></div>
<div id="overlay"></div>

<div id="lens"><div class="glass"></div></div>
<div class="hint">Drag lens over: beauty / merchandise / making</div>

<script>
const TEXT="Then they discovered the beauty of merchandise and started making it relentlessly.";
const TARGETS=[
{re:/^beauty$/i,out:"VALUATION"},
{re:/^merchandise$/i,out:"COMMODITY"},
{re:/^making$/i,out:"OPTIMIZING"}
];

const sentence=document.getElementById("sentence");
const overlay=document.getElementById("overlay");
const lens=document.getElementById("lens");
const blackout=document.getElementById("blackout");

function cleanWord(w){return w.replace(/[^\w']/g,"");}
function findTarget(word){
const c=cleanWord(word);
for(const t of TARGETS) if(t.re.test(c)) return {key:c.toLowerCase(),out:t.out};
return null;
}

TEXT.split(" ").forEach((w,i)=>{
const sp=document.createElement("span");
sp.className="w";
sp.textContent=w;

sp.style.setProperty("--mfDur",(6.2+Math.random()*4.2)+"s");
sp.style.setProperty("--mfDelay",-(Math.random()*6)+"s");
sp.style.setProperty("--mx",(Math.random()*1.4-.7)+"px");
sp.style.setProperty("--my",(Math.random()*1.2-.6)+"px");
sp.style.setProperty("--mr",(Math.random()*.2-.1)+"deg");

const hit=findTarget(w);
if(hit){sp.dataset.hit="1";sp.dataset.key=hit.key;sp.dataset.out=hit.out;}

sentence.appendChild(sp);
if(i<TEXT.split(" ").length-1) sentence.appendChild(document.createTextNode(" "));
});

function lensCenter(){
const r=lens.getBoundingClientRect();
return {cx:r.left+r.width/2,cy:r.top+r.height/2,rad:r.width/2};
}

function isHit(span,l){
const r=span.getBoundingClientRect();
const wx=r.left+r.width/2;
const wy=r.top+r.height/2;
return ((wx-l.cx)**2+(wy-l.cy)**2)<=l.rad*l.rad;
}

let dragging=false,offX=0,offY=0;
lens.addEventListener("pointerdown",e=>{
dragging=true;
const r=lens.getBoundingClientRect();
offX=e.clientX-(r.left+r.width/2);
offY=e.clientY-(r.top+r.height/2);
lens.setPointerCapture(e.pointerId);
});
lens.addEventListener("pointermove",e=>{
if(!dragging)return;
lens.style.left=e.clientX-offX+"px";
lens.style.top=e.clientY-offY+"px";
});
lens.addEventListener("pointerup",e=>{
dragging=false;
try{lens.releasePointerCapture(e.pointerId);}catch{}
});

function tick(){
const l=lensCenter();
document.querySelectorAll(".w").forEach(sp=>{
if(sp.dataset.hit==="1" && isHit(sp,l)){
sp.classList.add("hideInk");
sp.textContent=sp.dataset.out;
}
});
requestAnimationFrame(tick);
}
requestAnimationFrame(tick);
</script>

</body>
</html>
